@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix ub: <http://swat.cse.lehigh.edu/onto/univ-bench.owl#>.


<#University>
    rr:logicalTable [ rr:tableName "university" ];
    rr:subjectMap [
        rr:template "http://www.university{nr}.edu";
        rr:class ub:University;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "name" ];
    ].


<#Department>
    rr:logicalTable [ rr:sqlQuery """
        SELECT nr AS departmentnr, suborganizationof AS universitynr, name
        FROM department
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu";
        rr:class ub:Department;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "name" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:subOrganizationOf;
        rr:objectMap [ rr:template "http://www.university{universitynr}.edu" ];
    ].


<#Publication>
    rr:logicalTable [ rr:sqlQuery """
        SELECT publication.name AS publicationname, faculty.name AS facultyname, department.suborganizationof AS universitynr, department.nr AS departmentnr, publication.title AS publicationtitle, publication.abstract AS publicationabstract
        FROM publication INNER JOIN faculty ON publication.mainauthor=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}/{publicationname}";
        rr:class ub:Publication;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "publicationname" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:title;
        rr:objectMap [ rr:column "publicationtitle" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:abstract;
        rr:objectMap [ rr:column "publicationabstract" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:publicationAuthor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}" ];
    ].


<#ResearchGroup>
    rr:logicalTable [ rr:sqlQuery """
        SELECT researchgroup.nr AS researchgroupnr, researchgroup.suborganizationof AS departmentnr, department.suborganizationof AS universitynr
        FROM researchgroup INNER JOIN department ON researchgroup.suborganizationof=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/researchGroup{researchgroupnr}.edu";
        rr:class ub:ResearchGroup;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:subOrganizationOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ].


<#UndergraduateCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT suborganizationof AS universitynr, undergraduatecourse.name AS undergraduatecoursename, department.nr AS departmentnr
        FROM undergraduatecourse INNER JOIN faculty ON undergraduatecourse.teacher=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatecoursename}";
        rr:class ub:UndergraduateCourse;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "undergraduatecoursename" ];
    ].


<#GraduateCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT suborganizationof AS universitynr, graduatecourse.name AS graduatecoursename, department.nr AS departmentnr
        FROM graduatecourse INNER JOIN faculty ON graduatecourse.teacher=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatecoursename}";
        rr:class ub:GraduateCourse;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "graduatecoursename" ];
    ].


<#FullProfessor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr WHERE professor.professortype='fullProfessor'
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
        rr:class ub:FullProfessor;
    ].


<#AssistantProfessor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr WHERE professor.professortype='assistantProfessor'
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
        rr:class ub:AssistantProfessor;
    ].


<#AssociateProfessor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr WHERE professor.professortype='associateProfessor'
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
        rr:class ub:AssociateProfessor;
    ].


<#Professor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr, researchinterest, headof
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:researchInterest;
        rr:objectMap [ rr:column "researchinterest" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:headOf;
        rr:objectMap [ rr:template "http://www.department{headof}.university{universitynr}.edu" ];
    ].


<#Lecturer>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr
        FROM lecturer INNER JOIN faculty ON lecturer.nr=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
        rr:class ub:Lecturer;
    ].


<#Faculty>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, faculty.name AS facultyname, department.suborganizationof AS universitynr, telephone, emailaddress, undergraduatedegreefrom, masterdegreefrom, doctoraldegreefrom
        FROM faculty INNER JOIN department ON faculty.worksfor=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "facultyname" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:emailAddress;
        rr:objectMap [ rr:column "emailaddress" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:telephone;
        rr:objectMap [ rr:column "telephone" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:worksFor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:doctoralDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{doctoraldegreefrom}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:masterDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{masterdegreefrom}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:undergraduateDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{undergraduatedegreefrom}.edu" ];
    ].


<#FacultyTeacherGraduateCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT faculty.name AS facultyname, department.nr AS departmentnr, department.suborganizationof AS universitynr, graduatecourse.name AS graduatecoursename
        FROM faculty INNER JOIN department ON faculty.worksfor=department.nr INNER JOIN graduatecourse ON graduatecourse.teacher=faculty.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:teacherOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatecoursename}" ];
    ].


<#FacultyTeacherUndergraduateCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT faculty.name AS facultyname, department.nr AS departmentnr, department.suborganizationof AS universitynr, undergraduatecourse.name AS undergraduatecoursename
        FROM faculty INNER JOIN department ON worksfor=department.nr INNER JOIN undergraduatecourse ON undergraduatecourse.teacher=faculty.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:teacherOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatecoursename}" ];
    ].


<#UndergraduateStudent>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.suborganizationof AS universitynr, undergraduatestudent.name AS undergraduatestudentname, department.nr AS departmentnr, telephone, emailaddress, age
        FROM undergraduatestudent INNER JOIN department ON undergraduatestudent.memberof=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatestudentname}";
        rr:class ub:UndergraduateStudent;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "undergraduatestudentname" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:emailAddress;
        rr:objectMap [ rr:column "emailaddress" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:telephone;
        rr:objectMap [ rr:column "telephone" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:age;
        rr:objectMap [ rr:column "age" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:memberOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ].


<#UndergraduateStudentAdvisor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, department.suborganizationof AS universitynr, undergraduatestudent.name AS undergraduatestudentname, faculty.name AS facultyname
        FROM undergraduatestudent INNER JOIN department ON undergraduatestudent.memberof=department.nr INNER JOIN faculty ON undergraduatestudent.advisor=faculty.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatestudentname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:advisor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}" ];
    ].


<#GraduateStudent>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.suborganizationof AS universitynr, graduatestudent.name AS graduatestudentname, department.nr AS departmentnr, telephone, emailaddress, undergraduatedegreefrom
        FROM graduatestudent INNER JOIN department ON graduatestudent.memberof=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatestudentname}";
        rr:class ub:GraduateStudent;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "graduatestudentname" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:emailAddress;
        rr:objectMap [ rr:column "emailaddress" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:telephone;
        rr:objectMap [ rr:column "telephone" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:undergraduateDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{undergraduatedegreefrom}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:memberOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ].


<#GraduateStudentAdvisor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT department.nr AS departmentnr, department.suborganizationof AS universitynr, graduatestudent.name AS graduatestudentname, faculty.name AS facultyname
        FROM graduatestudent INNER JOIN department ON graduatestudent.memberof=department.nr INNER JOIN faculty ON graduatestudent.advisor=faculty.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatestudentname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:advisor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}" ];
    ].


<#GraduateStudentTeachingAssistant>
    rr:logicalTable [ rr:sqlQuery """
        SELECT undergraduatecourse.name AS undergraduatecoursename, graduatestudent.name AS graduatestudentname, department.nr AS departmentnr, department.suborganizationof as universitynr
        FROM undergraduatecourse INNER JOIN graduatestudent ON undergraduatecourse.teachingassistant=graduatestudent.nr INNER JOIN department ON graduatestudent.memberof=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatestudentname}";
        rr:class ub:TeachingAssistant;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:teachingAssistantOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatecoursename}" ];
    ].


<#CoAuthorOfPublication>
    rr:logicalTable [ rr:sqlQuery """
        SELECT publication.name AS publicationname, graduatestudent.name AS graduatestudentname, faculty.name AS facultyname, department.nr AS departmentnr, department.suborganizationof AS universitynr
        FROM coauthorofpublication INNER JOIN publication ON coauthorofpublication.publicationid=publication.nr INNER JOIN faculty ON publication.mainauthor=faculty.nr INNER JOIN department ON faculty.worksfor=department.nr INNER JOIN graduatestudent ON coauthorofpublication.graduatestudentid=graduatestudent.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{facultyname}/{publicationname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:publicationAuthor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatestudentname}" ];
    ].


<#UndergraduateStudentTakeCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT undergraduatestudent.name AS undergraduatestudentname, undergraduatecourse.name AS undergraduatecoursename, department.nr AS departmentnr, department.suborganizationof AS universitynr
        FROM undergraduatestudenttakecourse INNER JOIN undergraduatestudent ON undergraduatestudenttakecourse.undergraduatestudentid=undergraduatestudent.nr INNER JOIN department ON undergraduatestudent.memberof=department.nr INNER JOIN undergraduatecourse ON undergraduatestudenttakecourse.undergraduatecourseid=undergraduatecourse.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatestudentname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:takesCourse;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{undergraduatecoursename}" ];
    ].


<#GraduateStudentTakeCourse>
    rr:logicalTable [ rr:sqlQuery """
        SELECT graduatestudent.name AS graduatestudentname, graduatecourse.name AS graduatecoursename, department.nr AS departmentnr, department.suborganizationof AS universitynr
        FROM graduatestudenttakecourse INNER JOIN graduatestudent ON graduatestudenttakecourse.graduatestudentid=graduatestudent.nr INNER JOIN department ON graduatestudent.memberof=department.nr INNER JOIN graduatecourse ON graduatestudenttakecourse.graduatecourseid=graduatecourse.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatestudentname}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:takesCourse;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/{graduatecoursename}" ];
    ].
