@prefix rr: <http://www.w3.org/ns/r2rml#>.
@prefix ub: <http://www.lehigh.edu/~zhp2/2004/0401/univ-bench.owl#>.

<#University>
    rr:logicalTable [ rr:tableName "university" ];
    rr:subjectMap [
        rr:template "http://www.university{nr}.edu";
        rr:class ub:university;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "name" ];
    ].

<#Department>
    rr:logicalTable [ rr:tableName "department" ];
    rr:subjectMap [
        rr:template "http://www.department{nr}.university{subOrganizationOf}.edu";
        rr:class ub:department;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "name" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:subOrganizationOf;
        rr:objectMap [ rr:template "http://www.university{subOrganizationOf}.edu" ];
    ].

<#ResearchGroup>
    rr:logicalTable [ rr:sqlQuery """
        SELECT researchgroup.nr AS nr, researchgroup.suborganizationof AS departmentnr, department.suborganizationof AS universitynr, name
        FROM researchgroup INNER JOIN department ON researchgroup.suborganizationof=department.nr
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/researchGroup{nr}.edu";
        rr:class ub:researchGroup;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:subOrganizationOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ].

<#FullProfessor>
    rr:logicalTable [ rr:sqlQuery """
        SELECT faculty.nr AS facultynr, department.nr AS departmentnr, faculty.name AS facultyname, department.name AS departmentname, department.suborganizationof AS universitynr, professortype, researchinterest, headof, telephone, emailaddress, undergraduatedegreefrom, masterdegreefrom, doctoraldegreefrom, worksfor
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON worksfor=department.nr WHERE professortype='fullProfessor'
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/fullProfessor{facultynr}";
        rr:class ub:fullProfessor;
    ];
    rr:predicateObjectMap [
        rr:predicate ub:name;
        rr:objectMap [ rr:column "departmentname" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:emailAddress;
        rr:objectMap [ rr:column "emailaddress" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:telephone;
        rr:objectMap [ rr:column "telephone" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:researchInterest;
        rr:objectMap [ rr:column "researchinterest" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:worksFor;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:doctoralDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{doctoraldegreefrom}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:masterDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{masterdegreefrom}.edu" ];
    ];
    rr:predicateObjectMap [
        rr:predicate ub:undergraduateDegreeFrom;
        rr:objectMap [ rr:template "http://www.university{undergraduatedegreefrom}.edu" ];
    ].

<#FullProfessorTeacher>
    rr:logicalTable [ rr:sqlQuery """
        SELECT faculty.nr AS facultynr, department.nr AS departmentnr, department.suborganizationof AS universitynr, graduatecourse.nr AS graduatecoursenr
        FROM professor INNER JOIN faculty ON professor.nr=faculty.nr INNER JOIN department ON worksfor=department.nr INNER JOIN graduatecourse ON graduatecourse.teacher=faculty.nr WHERE professortype='fullProfessor'
    """ ];
    rr:subjectMap [
        rr:template "http://www.department{departmentnr}.university{universitynr}.edu/fullProfessor{facultynr}";
    ];
    rr:predicateObjectMap [
        rr:predicate ub:teacherOf;
        rr:objectMap [ rr:template "http://www.department{departmentnr}.university{universitynr}.edu/graduateCourse{graduatecoursenr}" ];
    ].
